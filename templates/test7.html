<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Property Form</title> 
    <script>
        function showFields(propertyType) {
            // Hide all dynamic fields
            document.querySelectorAll('.dynamic-field').forEach(field => field.classList.add('hidden'));

            // Determine which fields to show based on property type
            if (propertyType === 'Apartment' || propertyType === 'Villa') {
                document.querySelectorAll('.bedrooms, .bathrooms, .is_gated, .possession, .submit').forEach(field => field.classList.remove('hidden'));
            } else if (propertyType === 'Land') {
                document.querySelector('.address, .submit').classList.remove('hidden');
            } else if (propertyType === 'Commercial') {
                document.querySelectorAll('.facing-direction, .bathrooms, .is_gated, .possession, .submit ').forEach(field => field.classList.remove('hidden'));
            }
        }
    </script>
</head>
<body>
    <section>
        <h1 style="text-align: center; margin-top: 2%; margin-bottom: 2%;">New Property Submission</h1>
        <form action="/property/add-property" method="post">
            <div class="form-group">
                <select id="property_type" name="property_type" onchange="showFields(this.value)">
                    <option value="">-- Select --</option>
                    <option value="Apartment">Apartment</option>
                    <option value="Villa">Villa</option>
                    <option value="Land">Land</option>
                    <option value="Commercial">Commercial</option>
                </select>
            </div>

            <!-- Address Field -->
            <div class="form-group dynamic-field address hidden">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" />
            </div>

            <!-- Bedrooms Field -->
            <div class="form-group dynamic-field bedrooms hidden">
                <label for="bedrooms">How Many Bedrooms?:</label>
                <input type="number" id="bedrooms" name="bedrooms" />
            </div>

            <!-- Bathrooms Field -->
            <div class="form-group dynamic-field bathrooms hidden">
                <label for="bathrooms">How Many Bathrooms?:</label>
                <input type="number" id="bathrooms" name="bathrooms" />
            </div>

            <!-- Facing Direction Field -->
            <div class="form-group dynamic-field facing-direction hidden">
                <label for="facing_direction">Facing Direction:</label>
                <input type="text" id="facing_direction" name="facing_direction" />
            </div>

            <div class="form-group dynamic-field possession hidden">
                <label for="possession">Possession Status?:</label>
                <select id="possession" name="possession" >
                    <option value="">-- Select --</option>
                    <option value="Under Construction">Under Construction</option>
                    <option value="Ready to Move">Ready to Move</option>
                    <option value="Resale">Resale</option>
                </select>
            </div>

            <div class="form-group dynamic-field is_gated hidden">
                <label for="is_gated">Is it gated?:</label>
                <select id="is_gated" name="is_gated" >
                    <option value="">-- Select --</option>
                    <option value="TRUE">Yes</option>
                    <option value="FALSE">No</option>
                </select>
            </div>

            <!-- Submit Button -->
            <div class="form-group submit hidden">
                <input type="submit" value="Submit Property" style="display: block; margin: 2% auto;">
            </div>
        </form>
    </section>
</body>
</html>
